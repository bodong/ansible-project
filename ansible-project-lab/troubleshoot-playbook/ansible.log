2019-03-21 11:39:23,260 p=15155 u=student |  ERROR! Syntax Error while loading YAML.
  mapping values are not allowed in this context

The error appears to have been in '/home/student/troubleshoot-playbook/samba.yml': line 8, column 30, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    install_state: installed
    random_var: This is colon: test
                             ^ here

2019-03-21 11:39:52,528 p=15182 u=student |  ERROR! Syntax Error while loading YAML.
  mapping values are not allowed in this context

The error appears to have been in '/home/student/troubleshoot-playbook/samba.yml': line 8, column 30, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    install_state: installed
    random_var: This is colon: test
                             ^ here

2019-03-21 11:46:05,731 p=15315 u=student |  ERROR! Syntax Error while loading YAML.
  did not find expected key

The error appears to have been in '/home/student/troubleshoot-playbook/samba.yml': line 44, column 4, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


   - name: deliver samba config
   ^ here

2019-03-21 11:46:42,463 p=15335 u=student |  ERROR! Syntax Error while loading YAML.
  mapping values are not allowed in this context

The error appears to have been in '/home/student/troubleshoot-playbook/samba.yml': line 45, column 14, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  - name: deliver samba config
     template:
             ^ here

2019-03-21 11:49:44,314 p=15413 u=student |  ERROR! Syntax Error while loading YAML.
  found unacceptable key (unhashable type: 'AnsibleMapping')

The error appears to have been in '/home/student/troubleshoot-playbook/samba.yml': line 14, column 15, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

      name: samba
      state: {{ install_state }}
              ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes.  Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2019-03-21 11:50:49,206 passlib.registry registered 'md5_crypt' handler: <class 'passlib.handlers.md5_crypt.md5_crypt'>
2019-03-21 11:50:49,212 p=15472 u=student |  playbook: samba.yml
2019-03-21 11:50:58,587 passlib.registry registered 'md5_crypt' handler: <class 'passlib.handlers.md5_crypt.md5_crypt'>
2019-03-21 11:50:58,595 p=15494 u=student |  PLAY [Install a samba server] **************************************************************************************************************
2019-03-21 11:50:58,608 p=15494 u=student |  TASK [Gathering Facts] *********************************************************************************************************************
2019-03-21 11:51:09,910 p=15494 u=student |  fatal: [servera.lab.exammple.com]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host servera.lab.exammple.com port 22: Connection timed out\r\n", "unreachable": true}
2019-03-21 11:51:09,911 p=15494 u=student |  	to retry, use: --limit @/home/student/troubleshoot-playbook/samba.retry

2019-03-21 11:51:09,911 p=15494 u=student |  PLAY RECAP *********************************************************************************************************************************
2019-03-21 11:51:09,912 p=15494 u=student |  servera.lab.exammple.com   : ok=0    changed=0    unreachable=1    failed=0   
2019-03-21 11:52:13,784 p=15543 u=student |  ansible-playbook 2.7.1
  config file = /home/student/troubleshoot-playbook/ansible.cfg
  configured module search path = [u'/home/student/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /usr/bin/ansible-playbook
  python version = 2.7.5 (default, Sep 12 2018, 05:31:16) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)]
2019-03-21 11:52:13,784 p=15543 u=student |  Using /home/student/troubleshoot-playbook/ansible.cfg as config file
2019-03-21 11:52:13,784 p=15543 u=student |  setting up inventory plugins
2019-03-21 11:52:13,798 p=15543 u=student |  /home/student/troubleshoot-playbook/inventory did not meet host_list requirements, check plugin documentation if this is unexpected
2019-03-21 11:52:13,798 p=15543 u=student |  /home/student/troubleshoot-playbook/inventory did not meet script requirements, check plugin documentation if this is unexpected
2019-03-21 11:52:13,804 p=15543 u=student |  Parsed /home/student/troubleshoot-playbook/inventory inventory source with ini plugin
2019-03-21 11:52:14,048 p=15543 u=student |  Loading callback plugin default of type stdout, v2.0 from /usr/lib/python2.7/site-packages/ansible/plugins/callback/default.pyc
2019-03-21 11:52:14,234 p=15543 u=student |  PLAYBOOK: samba.yml ************************************************************************************************************************
2019-03-21 11:52:14,234 p=15543 u=student |  1 plays in samba.yml
2019-03-21 11:52:14,265 passlib.registry registered 'md5_crypt' handler: <class 'passlib.handlers.md5_crypt.md5_crypt'>
2019-03-21 11:52:14,273 p=15543 u=student |  PLAY [Install a samba server] **************************************************************************************************************
2019-03-21 11:52:14,291 p=15543 u=student |  TASK [Gathering Facts] *********************************************************************************************************************
2019-03-21 11:52:14,292 p=15543 u=student |  task path: /home/student/troubleshoot-playbook/samba.yml:2
2019-03-21 11:52:24,823 p=15543 u=student |  fatal: [servera.lab.exammple.com]: UNREACHABLE! => {
    "changed": false, 
    "msg": "Failed to connect to the host via ssh: OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017\r\ndebug1: Reading configuration data /home/student/.ssh/config\r\ndebug1: /home/student/.ssh/config line 1: Applying options for *\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 58: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket \"/home/student/.ansible/cp/d4775f48c9\" does not exist\r\ndebug2: resolving \"servera.lab.exammple.com\" port 22\r\ndebug2: ssh_connect_direct: needpriv 0\r\ndebug1: Connecting to servera.lab.exammple.com [18.211.9.206] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 18.211.9.206 port 22: Connection timed out\r\nssh: connect to host servera.lab.exammple.com port 22: Connection timed out\r\n", 
    "unreachable": true
}
2019-03-21 11:52:24,824 p=15543 u=student |  	to retry, use: --limit @/home/student/troubleshoot-playbook/samba.retry

2019-03-21 11:52:24,825 p=15543 u=student |  PLAY RECAP *********************************************************************************************************************************
2019-03-21 11:52:24,825 p=15543 u=student |  servera.lab.exammple.com   : ok=0    changed=0    unreachable=1    failed=0   
2019-03-21 11:53:23,157 passlib.registry registered 'md5_crypt' handler: <class 'passlib.handlers.md5_crypt.md5_crypt'>
2019-03-21 11:53:23,164 p=15596 u=student |  PLAY [Install a samba server] **************************************************************************************************************
2019-03-21 11:53:23,177 p=15596 u=student |  TASK [Gathering Facts] *********************************************************************************************************************
2019-03-21 11:53:24,534 p=15596 u=student |  ok: [servera.lab.example.com]
2019-03-21 11:53:24,560 p=15596 u=student |  TASK [install samba] ***********************************************************************************************************************
2019-03-21 11:53:37,114 p=15596 u=student |  changed: [servera.lab.example.com]
2019-03-21 11:53:37,136 p=15596 u=student |  TASK [install firewalld] *******************************************************************************************************************
2019-03-21 11:53:37,922 p=15596 u=student |  ok: [servera.lab.example.com]
2019-03-21 11:53:37,944 p=15596 u=student |  TASK [debug install_state variable] ********************************************************************************************************
2019-03-21 11:53:37,991 p=15596 u=student |  ok: [servera.lab.example.com] => {
    "msg": "The state for the samba service is installed"
}
2019-03-21 11:53:38,015 p=15596 u=student |  TASK [start samba] *************************************************************************************************************************
2019-03-21 11:53:39,524 p=15596 u=student |  changed: [servera.lab.example.com]
2019-03-21 11:53:39,545 p=15596 u=student |  TASK [start firewalld] *********************************************************************************************************************
2019-03-21 11:53:39,952 p=15596 u=student |  ok: [servera.lab.example.com]
2019-03-21 11:53:39,974 p=15596 u=student |  TASK [configure firewall for samba] ********************************************************************************************************
2019-03-21 11:53:40,980 p=15596 u=student |  changed: [servera.lab.example.com]
2019-03-21 11:53:41,004 p=15596 u=student |  TASK [deliver samba config] ****************************************************************************************************************
2019-03-21 11:53:41,180 p=15596 u=student |  fatal: [servera.lab.example.com]: FAILED! => {"changed": false, "msg": "Could not find or access 'samba.j2'\nSearched in:\n\t/home/student/troubleshoot-playbook/templates/samba.j2\n\t/home/student/troubleshoot-playbook/samba.j2\n\t/home/student/troubleshoot-playbook/templates/samba.j2\n\t/home/student/troubleshoot-playbook/samba.j2 on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2019-03-21 11:53:41,182 p=15596 u=student |  	to retry, use: --limit @/home/student/troubleshoot-playbook/samba.retry

2019-03-21 11:53:41,182 p=15596 u=student |  PLAY RECAP *********************************************************************************************************************************
2019-03-21 11:53:41,182 p=15596 u=student |  servera.lab.example.com    : ok=7    changed=3    unreachable=0    failed=1   
2019-03-21 11:55:33,045 passlib.registry registered 'md5_crypt' handler: <class 'passlib.handlers.md5_crypt.md5_crypt'>
2019-03-21 11:55:33,053 p=15753 u=student |  PLAY [Install a samba server] **************************************************************************************************************
2019-03-21 11:55:33,065 p=15753 u=student |  TASK [Gathering Facts] *********************************************************************************************************************
2019-03-21 11:55:34,443 p=15753 u=student |  ok: [servera.lab.example.com]
2019-03-21 11:55:34,471 p=15753 u=student |  TASK [install samba] ***********************************************************************************************************************
2019-03-21 11:55:35,346 p=15753 u=student |  ok: [servera.lab.example.com]
2019-03-21 11:55:35,367 p=15753 u=student |  TASK [install firewalld] *******************************************************************************************************************
2019-03-21 11:55:35,993 p=15753 u=student |  ok: [servera.lab.example.com]
2019-03-21 11:55:36,020 p=15753 u=student |  TASK [debug install_state variable] ********************************************************************************************************
2019-03-21 11:55:36,090 p=15753 u=student |  ok: [servera.lab.example.com] => {
    "msg": "The state for the samba service is installed"
}
2019-03-21 11:55:36,123 p=15753 u=student |  TASK [start samba] *************************************************************************************************************************
2019-03-21 11:55:36,769 p=15753 u=student |  ok: [servera.lab.example.com]
2019-03-21 11:55:36,790 p=15753 u=student |  TASK [start firewalld] *********************************************************************************************************************
2019-03-21 11:55:37,209 p=15753 u=student |  ok: [servera.lab.example.com]
2019-03-21 11:55:37,234 p=15753 u=student |  TASK [configure firewall for samba] ********************************************************************************************************
2019-03-21 11:55:38,246 p=15753 u=student |  ok: [servera.lab.example.com]
2019-03-21 11:55:38,268 p=15753 u=student |  TASK [deliver samba config] ****************************************************************************************************************
2019-03-21 11:55:39,314 p=15753 u=student |  changed: [servera.lab.example.com]
2019-03-21 11:55:39,316 p=15753 u=student |  PLAY RECAP *********************************************************************************************************************************
2019-03-21 11:55:39,316 p=15753 u=student |  servera.lab.example.com    : ok=8    changed=1    unreachable=0    failed=0   
